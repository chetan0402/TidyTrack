{
  "openapi": "3.0.3",
  "info": {
    "title": "TidyTrack",
    "version": "v1"
  },
  "servers": [
    {
      "url": "http://tt.manit.ac.in"
    }
  ],
  "paths": {
    "/": {
      "get":{
        "description": "Main landing page",
        "responses": {
          "200":{
            "description":"Landing page is served"
          }
        }
      },
      "post": {
        "description": "Submitting the form data",
        "requestBody": {
          "required":true,
          "content":{
            "application/json": {
              "schema":{
                "type":"object",
                "properties":{
                  "token":{
                    "type":"string",
                    "description":"Auth token"
                  },
                  "name":{
                    "type":"string",
                    "description":"Feedback",
                    "default":""
                  },
                  "rad":{
                    "type":"integer",
                    "description":"radio button",
                    "default":0
                  },
                  "washroom":{
                    "type":"string",
                    "description":"location code",
                    "example":"H10CG1"
                  },
                  "img":{
                    "type":"string",
                    "description":"base64 encoded image"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "The response was submited"
          },
          "403":{
            "description": "Authentication Failed"
          },
          "429":{
            "description": "Rate limit hit"
          },
          "500":{
            "description": "internal server error"
          }
        }
      }
    },
    "/chart":{
      "post":{
        "description":"Chart API point",
        "parameters":[
          {
            "name":"Auth",
            "in":"cookie",
            "required":true,
            "schema":{
              "type":"string"
            }
          },
          {
            "name":"fromDate",
            "in":"query",
            "required":true,
            "description":"unix timestamp value",
            "schema":{
              "type":"integer"
            }
          },
          {
            "name":"toDate",
            "in":"query",
            "required":true,
            "description":"unix timestamp value",
            "schema":{
              "type":"integer"
            }
          },
          {
            "name":"washroomCode",
            "in":"query",
            "required":false,
            "description":"location code",
            "schema":{
              "type":"string"
            }
          }
        ],
        "responses": {
          "200":{
            "description":"PNG returned"
          },
          "400":{
            "description":"Required parameter not present"
          },
          "403":{
            "description":"Authenticaiton Failed"
          },
          "500":{
            "description":"Internal server error"
          }
        }
      }
    },
    "/admin/verify":{
      "post":{
        "description":"Get token for admin",
        "requestBody":{
          "content":{
            "application/x-www-form-urlencoded": {
              "schema":{
                "type":"object",
                "properties":{
                  "user":{
                    "type":"string"
                  },
                  "pswd":{
                    "type":"string"
                  }
                }
              }
            }
          }
        },
        "responses":{
          "200":{
            "description":"token returned as cookie"
          },
          "401":{
            "description": "wrong userpass"
          },
          "500":{
            "description":"internal server error"
          }
        }
      }
    }
  }
}
